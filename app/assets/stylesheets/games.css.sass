@charset "utf-8"

/* Initializers of the Sass */
@import 'bourbon'
@import 'shared/helpers'

$cell_size: 51px
$cell_width: 56px
$cell_height: 60px
$edge_cell_height: 20px
$side_cell_width: 18px
$board_width: $cell_width * 9 + $side_cell_width * 2
$piece_size: 45px
$line_color: #b37100
$highlight_color: #77c0ff
$selected_color: $highlight_color
$moved_color: $highlight_color

@mixin corner_cell
  @include user-select(none)
  font-size: 11px
  text-align: center
  font-weight: bold
  float: left

@mixin selected
  background-position: (- $cell_width * 4) (- $cell_height)

@mixin highlight
  background-position: (- $cell_width * 7) (- $cell_height)

#game_page

article#game
  margin-top: 50px
  #game_result
    font-size: 130%
    text-align: center
    font-weight: bold
    margin: 10px 0
  aside#game_buttons
    @include user-select(none)
    width: $board_width
    margin: 10px auto
    text-align: right
  aside#play_buttons
    @include user-select(none)
    margin: 10px 0
    text-align: center
    a, span
      width: 60px
@media only screen and (max-width: 759px)
  article#game
    margin-top: 0

.board
  @include user-select(none)
  width: $board_width
  height: $board_height
  background-repeat: no-repeat
  .row
    @include clearfix
    .cell
      @include user-select(none)
      float: left
      width: $cell_width
      height: $cell_height
      &.moved,
      &.selected
        cursor: pointer
        @include selected
      &.highlight
        cursor: pointer
        @include highlight
      .piece
    .corner_cell
      @include corner_cell
      width: $side_cell_width
      height: $edge_cell_height
    .edge_cell
      /* top, bottom */
      @include corner_cell
      width: $cell_width
      height: $edge_cell_height
      line-height: $edge_cell_height
    .side_cell
      /* left, right */
      @include corner_cell
      width: $side_cell_width
      height: $cell_height
      line-height: $cell_height

.in_hand
  @include user-select(none)
  @include atmospheric_background
  .pieces
    .row
      @include clearfix
      .cell
        @include user-select(none)
        float: left
        width: $cell_width
        height: $cell_height
        position: relative
        &.moved,
        &.selected
          cursor: pointer
          @include selected
        &.in_turn
          @include highlight
        .piece
        section.face
          width: $face_size
          height: $face_size
          margin: (($cell_height - $face_size) / 2) (($cell_width - $face_size) / 2)
          a
            display: block
        .number
          position: absolute
          right: 0px
          bottom: 0px
          color: #f00
          font-weight: bold
          font-size: 14px

ul#games
  margin: 0
  padding: 0 10px
  background: #fff
  +border-radius(5px)
  li.game
    +clearfix
    list-style: none
    border-bottom: 1px solid $border_color
    &:last-child
      border-bottom: 0
    padding: 10px 0
    h3.game_users
      margin: 0
      width: 30%
      float: left
      font-size: 14px
      img.face
        +square(40px)
        @media (max-width: 767px)
          +square(25px)
    .game_info
      float: left
      width: 45%
    .game_status
      float: left
      width: 25%
      text-align: right
      .playing
        color: #c00
        font-weight: bold
      .finished
        color: #00c
        font-weight: bold
      .my_turn
        color: #00c
        font-weight: bold
  li.no_game
    list-style: none
    color: #f33
    font-weight: bold
    padding: 20px 10px

form.edit_game
  label
    margin-bottom: 10px

  .slide
    a.face, a.theme
      display: block
      @include square(50px)
  section.field
    margin-bottom: 40px
  #order_field
    width: 520px
    margin: 0 auto
    text-align: center
    a.game_order
      @include pill_button(#ffdd44)
      @include inline-block
      padding: 10px 0
      width: 112px
      font-size: 100%
      text-decoration: none
      &.active
        @include pill_button($activated_color)
        padding: 10px 0
        font-size: 100%
        text-decoration: none
  #game_handicap_select
    text-align: center
    display: none
    select#game_handicap
      margin-top: 15px
      width: 470px
      height: 36px

/* Smart Phone */
@media only screen and (max-width: 759px)
  form.edit_game
    #order_field
      a.game_order
        font-size: $mobile_button_font_size
        &.active
          font-size: $mobile_button_font_size
    #game_handicap_select
      select#game_handicap
        height: 44px

/* Layouts */

section.board_container
  @include clearfix
  width: $cell_width * 11 + $side_cell_width * 2
  margin: 0 auto
  .board
    float: left
    margin: 0
  .in_hand
    float: left
    margin: 0
    width: $cell_width
    height: $cell_height * 9
    padding: $edge_cell_height 0

/* Smart Phone */
@media only screen and (max-width: 759px)
  article#game
    aside#game_buttons
      width: $board_width - 20px
      margin: 10px auto

  section.board_container
    width: $board_width
    margin: 0 auto
    .board
      float: none
    .in_hand
      float: none
      margin: 0 auto
      width: $cell_width * 9
      height: $cell_height
      padding: 0 $side_cell_width

